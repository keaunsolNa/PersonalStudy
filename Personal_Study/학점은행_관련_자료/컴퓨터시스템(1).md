# 컴퓨터시스템 (1)

# 유닉스 소개

- 운영 체제(Operating System: OS)란?
    
    ![Untitled](컴퓨터시스템(1)/Untitled.png)
    
    - 운영 체제(Operating System: OS)
        - 시스템 하드웨어를 관리할 뿐 아니라 응용 소프트웨어를 실행하기 위하여 하드웨어 추상화 플랫폼과 공통 시스템 서비스를 제공하는 시스템 소프트웨어
        - 실행되는 응용 프로그램들이 메모리와 CPU, 입출력 장치 등의 자원들을 사용할 수 있도록 지원
        - 자원들을 추상화하여 파일 시스템 등의 서비스를 제공
        - 멀티태스킹을 지원
        - 여러 개의 응용 프로그램을 실행하고 있는 동안, 운영 체제는 이러한 모든 프로세스들을 스케줄링
    - 운영 체제의 역할
        - 조정자
            - 운영 요소 사용을 제어하면서 사용자와 응용 프로그램 간에 통신할 수 있게 함
            - 작업을 할 수 있는 환경만 제공
        - 자원 할당자 혹은 관리자
            - 각 응용 프로그램에 필요한 자원 할당, 자원 할당 방법 결정
        - 응용 프로그램 및 입출력 장치 제어자
            - 다양한 입출력 장치와 응용 프로그램 제
    - 운영체제의 목적
        - 편리성
            - 응용 프로그램에 대한 사용자 인터페이스 제공
            - 사용자와 컴퓨터 간의 상호 교환 인터페이스 제공
        - 효율성
            - 각 프로그램을 유기적으로 결합하여 시스템 전체 성능을 향상시킴
            - 처리량 및 신뢰도, 사용가능도 향상
            - 지연 및 응답 시간 단축
        - 제어 서비스 향상
            - 자원의 효율적 할당 및 관리를 통하여 제어 서비스 발전
            - 입출력 장치의 동작 관리 및 제어, 시스템 오류 예방
    - 운영체제의 유형
        - 일괄 처리 시스템
            - 일정 시간 또는 기간 동안 모았다가 한꺼번에 처리하는 시스템
            - 프로세스가 다른 작업 수행 시 입출력 작업 불가능하여 프로세서와 메인 메모리의 활용도 떨어짐
        - 다중 프로그래밍 시스템(프로세서 사용 최적화)
            - 일괄 처리 시스템의 단점을 보완하기 위해 도입된 시스템으로, 프로세서가 유휴 상태일 때 실행 중인 둘 이상의 작업이 프로세서를 전환 (인터리빙)하여 사용할 수 있도록 동작
            - 여러 작업을 준비 상태로 두려면 이를 메모리에 보관, 일정 형태의 메모리를 관리하고, 여러 작업이 수행할 준비를 갖추고 있으면 이 중 하나를 선택하는 결정 방법 필요
        - 시분할 시스템 (응답 시간 최대화)
            - 다중 프로그래밍을 논리적으로 확장한 개념, 프로세서가 다중 작업을 교대로 수행하며, 다수의 사용자가 동시에 컴퓨터의 자원을 공유
            - 여러 사용자가 단일 컴퓨터 시스템을 동시 사용 가능
        - 다중 처리 시스템
            - 단일 컴퓨터 시스템 내에서 둘 이상의 프로세서 사용, 동시에 둘 이상의 프로세스 지원
            - 빠르고, 프로세서 하나가 고장 나도 다른 프로세서 사용하여 작업 계속, 신뢰성 높음
        - 실시간 처리 시스템
            - 고정 시간 제약을 잘 정의하지 않으면 시스템 실패
        - 분산 처리 시스템
            - 시스템마다 독립적인 운영체제와 메모리로 운영, 필요 시 통신하는 시스템
            - 하나의 프로그램을 여러 프로세서에서 동시에 실행
            
- 유닉스
    - 켄 톰슨과 데니스 리치가 벨연구소에서 1969년에 만든 운영체제
    - 많은 확장판과 새로운 아이디어들이 다양한 버전의 유닉스에 추가됨
    - 최초의 개방형 표준 운영체제
    - 시분할 시스템, 다중 프로세서 지원
- 유닉스의 특징
    - 대화형 시스템
        - UNIX가 이해할 수 있는 명령 입력 → 처리 결과 출력
        - 명령어/그래픽 기반 사용자 인터페이스
    - 다중 사용자/작업용 시스템
        - 여러 사람이 동시에 접속하여 원하는 작업을 수행
        - 한 대의 컴퓨터에서 여러 작업을 동시에 수행
    - 높은 이식성, 확장성, 개방성
        - C언어로 작성되어 H/W의 영향을 받지 않음
        - 모듈 단위로 나누어져 있어서 새로운 기능 추가가 용이
    - 계층적 파일 시스템
        
        ![Untitled](컴퓨터시스템(1)/Untitled%201.png)
        
    - 부가적 기능 제공이 다양
- 유닉스의 역사
    - 1969년. AT&T 벨 연구소에서 개발
        - 켄 톰슨(Ken Thompson), 데니스 리치(Dennis Ritche)
    - 1973. 어셈블리 언어에서 C언어로 변경
    - 초기에 대학을 중심으로 공개
    - 버클리 대학에서 수정한 UNIX를 BSD라고 함
        - Berkeley Software Distribution
        - 가장 중요한 개선은 네트워킹 기능의 추가
    - 상업용 버전은 AT&T 개발
        - System III, System V 등
    - Linux
        - 유닉스와 호환가능한 운영체제로 공개 S/W
        - 1991.  리누스 토발즈(linus Benedict Torvalds)가 커널 개발
- 유닉스와 리눅스의 비교
    
    
    | 항목 | UNIX | Linux |
    | --- | --- | --- |
    | 종류 | Solaris - Oracle
    AIX - IBM
    Hewlett-Packard - HP/UX | Fedora - RedHat
    Ubuntu - Canonical |
    | 구축비용 | PC용 UNIX도 있으나 보통은 장비가 하나 개발되고 해당 장비에 최적화된 UNIX를 개발하여 상품으로 나오는 경우가 많으며 굉장히 비쌈 | 무료로 배포되나 유료 버전의 리눅스이며, 다양한 하드웨어 및 플랫폼 등을 지원하고 모든 시스템에 추가 비용없이 설치할 수 있어서 구축 비용이 저렴 |
    | 제조 | Unix OS 마다 배급사가 따로 있음 | 커뮤니티에 의해 개발 / 니누스 토발즈가 감독 |
    | 가격 | 개발용은 무료로 지원하는 배급사도 있음(Solaris) | 무료 (유로로 지원되는 경우도 있음) |
- 유닉스의 장점
    - 멀티유저, 멀티태스킹
    - 높은 이식성
    - 구조적 파일 시스템(트리 구조)
    - 뛰어난 보안기능
    - 입출력의 방향 전환, 파이프 기능
    - 개발 언어 및 유틸리티가 다양하며 프로그램 개발 용이
    - 확장성과 조작성이 뛰어난 셸(시스템과 사용자의 명령 해석기) 제공 각종 특수 장치의 독립성
    - 유연성 있는 커뮤니케이션 지원

# 유닉스의 구조 및 구성요소

- 유닉스의 구조 : 3계층
    
    ![Untitled](컴퓨터시스템(1)/Untitled%202.png)
    
- 유닉스의 구성 요소
    - Kernel, Shell, Utility와 명령어라는 3개의 구성요소를 가짐
    - 커널(Kernel)
        - 유닉스 운영체제의 핵심
        - 컴퓨터의 모든 자원을 관리하는 핵심 프로그램
        - 컴퓨터 자원 관리(파일 시스템, 장치, 프로세스, 메모리 등을 관리)
    - System Call
        - Kernel이 자신을 보호하기 위해 만든 인터페이스
        - 응용 프로그램이 직접 하드디스크에 데이터를 저장하지 않고 커널이 제공하는 write() 함수를 사용하여 데이터를 저장해달라고 요청
            
            ![Untitled](컴퓨터시스템(1)/Untitled%203.png)
            
    - 셸(Shell)/명령어
        - 사용자와 커널 사이의 중간자 역할 담당(사용자 인터페이스)
        - 명령어 처리 : 사용자가 입력한 명령을 이해하여 커널로 전달하는 명령어 해석기
        - 명령어는 사용자 작업을 수행하는 프로그램으로, 사용자가 작업을 수행하기 위한 일종의 도구 역할을 수행
        - Oracle과 같은 응용 프로그램은 셸(Shell)을 통하여 엑세스됨
    - 셸 종류
        - 본셸(Bourne Shell): sh
        - C셸(C Shell): csh
        - 콘셸(Korn Shell) ksh
        - 배시셸(Bash Shell): bash
    - Utility
        - 각종 프로그래밍 개발 도구, 문서 편집 도구 등
            
            ![Untitled](컴퓨터시스템(1)/Untitled%204.png)
            

# 유닉스 접속

- 유닉스(UNIX) 접속 환경 구축
    - 가상 머신(VM: Virtual Machine)
        - 하드웨어를 소프트웨어적으로 구현
        - 그 위에서 운영체제가 작동하도록 하는 기술
        - PC에 설치되어 있는 운영체제에 서버 가상화를 통해 독립된 운영체제를 설치할 수 있도록 해주는 응용 프로그램
    - 사용하는 이유
        - 한 시스템에서 서로 다른 운영체제를 사용
        - 독립된 작업 공간이 필요
        - 한 시스템에서 여러 명에게 독립적인 환경을 제공
            
            
            | VMware | VirtualBox |
            | --- | --- |
            | Workstation Pro
            유료 제품 (30일 평가판 제공) | 오라클에서 만든 가상 머신(VM: Virtual Machin)
            오픈 소스
            무료 |
            | Workstation Player
            비영리 및 개인적인 목적 무료
            단, 4.0.3버전까지는 상업용으로 사용 가능
            Workstation Pro의 기능 대부분 제공 |  |
    - 가상 머신 설치 : VMware Workstation Player 설치
- 요약
    - 가상 머신(VM: Virtual Machine)
        - 하드웨어를 소프트웨어적으로 구현해서 그 위에서 운영체제가 작동하도록 하는 기술
        - PC에 설치되어 있는 운영체제에 서버 가상화를 통해 생성된 가상 머신(VM: Virtual Machine)에 운영체제를 설치할 수 있도록 해주는 응용 프로그램
    - 사용하는 이유
    - 한 시스템에서 서로 다른 운영체제를 사용해야 하는 경우
    - 독립된 작업 공간이 필요한 경우
    - 한 시스템에서 여러 명에게 독립적인 운영체제 환경을 제공해야 하는 경우

# 유닉스 계정 관리

- 유닉스 계정 생성
    - User1 계정이 root Role로 지정
    - root 권한으로 수행 가능한 명령을 사용
    - “sudo su -” 명령을 통해 root로 전환
    - root role에 대한 설정은 /etc/user_attr 파일에서 설정
        
        ![Untitled](컴퓨터시스템(1)/Untitled%205.png)
        
- 유닉스 계정 삭제
    
    ![Untitled](컴퓨터시스템(1)/Untitled%206.png)
    
- 요약
    - 1) 사용자 생성: useradd [옵션] 로그인명
    
    | 옵션 | 설정 |
    | --- | --- |
    | -u uid | UID 값을 지정 |
    | -g gid | GID 지정 |
    | -m | 사용자 홈 디렉토리가 없으면 생성 |
    | -s shell | 로그인 셸의 절대 경로를 지정 |
    | -d dir | 홈 디렉토리의 절대 경로를 지정 |
    | -c comment | 사용자 정보를 기술 |
    - 2) 사용자 삭제: userdel [-r] 로그인명
        - [-r]: 사용자 생성시 홈디렉토리를 생성한 경우, 사용자 삭제와 동시에 해당 사용자 계정의 홈디렉토리를 삭제하고자 할 때 사용하는 옵션

# 유닉스의 파일 시스템

- 유닉스의 파일 시스템
    
    <aside>
    💡 유닉스 파일 시스템
    
    - 유닉스 또는 유닉스 계열 운영체제에 쓰이는 파일 시스템으로 파일과 디렉터리의 집합
    - 유닉스는 모든 정보를 장치와 파일로 조작하며, 유닉스 시스템 내의 자원 접근도 파일로서 접근할 수 있음
    - 유닉스 내의 모든 파일명은 하나의 유일한 NODE를 가짐
    </aside>
    
    - 유닉스 파일 시스템의 특징
        - 효과적인 파일 처리 및 접근의 편의성 제공을 위한 계층적인 구조
        - Kernel에 의해 관리
        - 파일과 디렉터리를 구분하지 않음
        - 파일에 관한 정보는 i-node에 보관
        - 데이터 형식을 강요하지 않고 스트림으로 취급
        - 모든 정보와 장치를 하나의 파일로 취급
        - 모든 파일은 허가모드를 가짐
        - 이진 파일과 아스키 파일을 동등하게 취급
        - 파일명 정의 규칙
            - 문자, 숫자, _, . 등으로 구성
            - 255자까지 사용 가능
            - 영문자 대,소문자를 구분
            
            ![Untitled](컴퓨터시스템(1)/Untitled%207.png)
            
- i-node란?
    - i-node의 개념도
        - Unix에서 i-node는 파일/디렉터리의 정보를 통해 할당, 적용, 생성, 링크, 삭제의 역할을 수행함
        - UNIX 시스템에서 파일을 관리하기 위해 사용되는 자료구조
        - 디스크 상의 파일과 디렉터리에 관한 정보를 보관함
            
            ![Untitled](컴퓨터시스템(1)/Untitled%208.png)
            
    - i-node의 구성요소
        
        ![Untitled](컴퓨터시스템(1)/Untitled%209.png)
        
    - i-node의 디스크 블록 관리
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2010.png)
        
    - 유닉스 디스크 블록의 구조
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2011.png)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2012.png)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2013.png)
        

# 유닉스의 파일 종류

- 파일 시스템의 유형
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2014.png)
    
    - 일반 파일과 디렉터리 파일의 차이
        - 디렉터리 내용은 데이터 블록에 있고 일반 파일처럼 i-node로 표현, i-node의 형태 필드만 일반 파일과 디렉터리 구분
        - 일반 파일에는 없으나, 디렉터리에는 특별한 구조
        - 경로명의 첫 글자가 /이면 루트 디렉터리이고, 그 외는 현재 디렉터리 나타냄
        - 사용자는 경로명으로 파일 참조, 파일 시스템은 i-node, 기억된 i-node를 사용하여 파일을 정의
    - 일반 파일
        - 실행 가능한 프로그램 파일, 원시 프로그램 파일, 문서 파일, 동영상 파일 등이 디스크 등에 수록
        - 처리 되어질 수 있는 여러 가지 형태로 저장
        - 텍스트 파일
            - ASCII 코드 문자들로만 구성된 파일
            - cat, more, tail 명령어를 이용한 내용 확인 가능
            - 단말 장치나 프린트로 출력 가능한 파일
        - 이진(바이너리) 파일
            - 내용이 ASCII 코드가 아닌 모든 파일
            - 실행 가능한 파일이나 데이터 파일, 그림 파일 등
            - 단말 장치나 프린트로 출력 불가능한 파일
    - 디렉터리 파일
        - 디렉터리에 포함되어 있는 여러가지 파일들과 디렉터리에 관한 정보 등을 저장하는 논리적 영역
        - 하나의 디렉터리는 일반 파일, 디렉터리, 특수 파일들을 모두 포함할 수 있음
        - 계층적 구조를 지고 있으며, cd 명령어를 이용하여 자유롭게 이동이 가능
    - 특수 파일
        - 유닉스 시스템에 부착된 장치들을 관리하기 위한 파일
        - /dev, /devices 디렉터리 내에 존재
        - 주변 장치 또는 파이프와 소켓 같은 프로세스간 상호 통신, 표준 입출력 시스템 호출
        - 표준 입출력 시스템 호출을 통해 참조되며, 장치를 파일로 취급함으로써 일관된 방법으로 관리
        - 디스크, 프린터 등의 입출력 장치에 접근하고 관리하는 채널(channel)에 대한 정보를 가지고 있는 파일
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2015.png)
            
    - i-node(index node)
        - 각 파일에 대한 정보를 기억하는 구조체
        - 파일 하나에 1개의 i-node를 만듦
        - i-node 번호라고 하는 번호로 구별
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2016.png)
        
- 유닉스의 파일 연속 할당
    - 연속 파일 할당과 자유 공간의 단편화
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2017.png)
        
        - 쓰레기 수집(garbage collection)으로 해결 가능하나, 시스템의 처리 능력 저하
        - 파일에 디스크 블록을 하나씩 할당하여 블록들이 파일 시스템의 여러 곳에 분산
            - ⇒ 데이터를 찾는 알고리즘을 복잡하게 함
        - i-node 리스트에 파일의 데이터가 들어 있는 블록 번호 모두 담을 수 있지만, 선형 목록은 관리 곤란
    - 다중 블록 인덱스 파일 할당
        - i-node의 크기 작게 유지하면서 비교적 큰 파일 지원

# 파일 내용보기와 비교

- 파일 내용보기
    - cat 명령어
        - 파일의 내용을 연속적으로 화면에 출력
        - cat [-n] 파일명…
            - n: 행 번호를 붙여서 출력해주는 옵션
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2018.png)
                
    - more 명령어
        - 화면 단위로 출력 (파일의 내용이 많을 경우에 사용)
        - more [+n] 파일명…
            - +n : 출력을 시작할 때 행 번호를 지정하는 옵션
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2019.png)
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2020.png)
                
    - tail 명령어
        - 파일의 뒷부분 몇 행을 출력 (기본값은 10)
        - tail [∓n] 파일명…
            - -n : 출력할 행의 개수를 지정하는 옵션
            - +n : 출력을 시작할 행을 지정하는 옵
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2021.png)
                
- 파일 내용 비교
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2022.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2023.png)
    

# 파일 복사/삭제/이동

- 파일 복사하기
    - cp [옵션] 원본 파일명/디렉터리명 사본 파일명/디렉터리명
        - -i : 원본과 동일한 이름이 사본에 존재할 경우, overwrite할 것인지 사용자에게 물어봄
        - -r : 디렉터리를 복사할 때 지정
- 파일 삭제하기
    - rm [옵션] 파일명/디렉터리명
        - -i : 파일명을 삭제 할 때, 사용자에게 물어봄
        - -r : 디렉터리를 삭제할 때 지정
- 파일 이동하기
    - mv [옵션] 파일명1/디렉토리명1 파일명2/디렉토리명2
        - -i : 파일명2/디렉토리명2가 존재하면 overwrite할 것인지를 사용자에게 물음

# 파일 링크

![Untitled](컴퓨터시스템(1)/Untitled%2024.png)

- 하드 링크: 원본과 동일한 inode를 가짐
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2025.png)
    
    - 하드 링크 파일 생성하기 전에 현재 디렉토리 목록을 본다.
        - 디렉토리의 경우 In 명령어를 사용할 수 없으므로 파일의 속성까지 포함한 목록을 확인한다.
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2026.png)
            
    - 디렉터리 파일을 In 명령어를 이용하여 하드 링크를 만들고자 한 경우
        - text.txt 파일의 하드 링크를 Intext.txt로 생성
        - 파일의 속성 리스트 확인
        - cmp_test 파일의 하드 링크를 Incmo_test로 생성
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2027.png)
            
    - 기존 파일과 생성된 하드 링크 파일의 내용을 비교
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2028.png)
        
    - 하드 링크 파일을 생성한 기존 파일의 내용을 수정
        - cmp_text 파일의 내용을 확인
        - Incmo_text 파일의 내용을 확인
        - ls -i를 이용하여 각 파일의 inode를 확인
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2029.png)
            
        - ls -l 명령을 수행한 결과를 Incmp_text 파일에 추가
        - Incmp_text 의 원본 파일인 cmp_text 파일의 내용을 확인
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2030.png)
            
    - 하드 링크를 삭제하여 기존 파일과 하드링크 사이의 변화 관계 확인
        - text.txt 파일의 하드 링크인 Intext.txt 파일을 삭제
        - ls -l를 이용하여 각 파일의 상세 정보를 확인
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2031.png)
            
        - 원본 파일인 cmp_test 파일을 삭제
        - ls -l를 이용하여 각 파일의 상세 정보를 확인
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2032.png)
            
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2033.png)
    
- 심볼릭 링크: 원본과 다른 새로운 inode를 가짐
    - ls -l 수행 결과를 test라는 파일로 저장
    - test의 내용을 확인
    - 현재 존재하는 파일들의 속성 목록 확인
    - test 파일의 심볼릭 링크를 slntest라는 이름으로 생성
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2034.png)
        
    - 현재 존재하는 파일들의 속성 목록 확인
        - 하드 링크와는 다르게 심볼릭 링크 파일 옆에 → 라는 표시와 함께 원본 파일명이 표시되는 것을 확인
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2035.png)
            
    - 또 다른 심볼릭 링크를 생성
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2036.png)
        
    - 심볼릭 링크 slntext.txt 파일의 연결 파일을 삭제
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2037.png)
        
    - 심볼릭 링크는 디렉토리를 가리키기 위한 새로운 이름 생성이 가능
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2038.png)
        
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2039.png)
    

# 파일 이름 및 수정 시각 변경

![Untitled](컴퓨터시스템(1)/Untitled%2040.png)

- 파일 생성
    - 지정한 파일이 존재하지 않으면 내용이 없는 빈 파일 생성
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2041.png)
        
- 파일 수정 시간 변경
    - -t [[CC]YY]MMDDhhmm[.ss]: 변경할 시간 지정 가능(시간 표시)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2042.png)
        
    - 이미 있는 파일을 touch 명령으로 옵션 없이 사용하면 파일의 수정 시간이 현재 시간으로 변경
        - touch 변경할 파일
        - 현재 시간 확인
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2043.png)
            
        - touch 명령어를 이용하여 test 파일의 수정 시간을 현재 시간으로 변경
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2044.png)
            
        - 연도를 지정하지 않고 월(12), 일(02), 시간(0900)만 지정하여 test 파일의 수정 시간을 변경
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2045.png)
            
        - YYMMDD만 설정한 경우
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2046.png)
            
- 특정 파일 기준으로 변경하기: r
    - test 파일의 접근, 수정 시간을 test2의 시간으로 변경
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2047.png)
        
- 수정, 접근 시간을 선택 변경하기
    - a: 접근 시각만 변경 / m: 수정 시각만 변경
    - cmp_test2의 수정 시간을 12020910으로 변경 (MMDDhhmm)
        - 파일들의 수정 시간 정보 확인 : ls -l
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2048.png)
            
    - cmp_test2의 수정 시간을 12020910으로 변경(MMDDhhmm)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2049.png)
        
    - cmp_test2의 접근 시간을 12020910 으로 변경
        - 파일들의 접근 시간 정보 확인: ls -ul
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2050.png)
            
        - cmp_test2의 접근 시간을 12020910으로 변경
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2051.png)
            

# 퍼미션/소유자 개요

- 파일의 접근 권한
    - 사용자는 자신의 파일과 디렉터리 중에서 다른 사용자가 접근해도 되는 것과 그렇지 않은 것을 구분하여 접근 권한 제한
    - 파일 시스템과 같은 자원에 엑세스할 수 있는 접근 허가를 의미
    - 파일에 무단으로 접근하는 것을 방지하고 보호
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2052.png)
        
    - 파일 종류
        - 파일의 종류를 알려주는 명령어: file [파일명]
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2053.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2054.png)
            
    - 사용 권한
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2055.png)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2056.png)
        
    - 사용 권한의 예
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2057.png)
        

# 퍼미션/소유자 명령어

- 파일의 접근 권한 변경
    - 파일이나 디렉터리의 접근 권한을 변경: chmod
    - [형식] chmod [옵션]
    - [옵션] -R : 하위 디렉터리까지 모두 변경
    - [접근 권한 변경 시 동작 모드]
        - 기호 모드
            - 접근 권한을 변경하기 위해 문자와 기호를 사용하여 권한 표시
        - 숫자 모드
            - 접근 권한을 변경하기 위해 숫자 사용
    - 기호 모드를 이용한 권한 변경
        - 사용자 카테고리: 소유자, 그룹, 기타 사용자를 문자로 표기
        - 연산자: 권한 부여 및 제거를 나타내는 기호로 표기
        - 권한 : 읽기, 쓰기, 실행을 나타내는 문자로 표기
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2058.png)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2059.png)
        
        - 기호 모드를 사용하여 test2 파일의 소유자의 쓰기 권한을 제거
            - 현재 test2의 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2060.png)
                
            - test2 파일의 소유자 쓰기 권한 제거
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2061.png)
                
        - 기호 모드를 사용하여 test2 파일의 그룹에 쓰기와 실행 권한 부여
            - 현재 test2의 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2062.png)
                
            - test2 파일의 그룹에 쓰기와 실행 권한 부여
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2063.png)
                
        - 기호 모드를 사용하여 test2 파일의 기타사용자에게 실행 권한 부여
            - 현재 test2의 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2064.png)
                
            - test2 파일의 기타사용자에게 실행 권한 부여
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2065.png)
                
        - 기호 모드를 사용하여 test2 파일의 그룹과 기타사용자에 실행 권한 제거
            - 현재 test2 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2066.png)
                
            - test2 파일의 그룹과 기타사용자에 실행 권한 제거
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2067.png)
                
        - 기호 모드를 사용하여 test2 파일의 모든 사용자에게 실행 권한 부여
            - 현재 test2의 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2068.png)
                
            - test2 파일의 모든 사용자에게 실행 권한 부여
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2069.png)
                
        - 기호 모드를 사용하여 test2 파일의 소유자에게 쓰기 권한 부여, 그룹의 쓰기 권한은 제거
            - 현재 test2의 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2070.png)
                
            - test2 파일의 소유자에게 쓰기 권한을 부여하고, 그룹의 쓰기 권한은 제거
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2071.png)
                
    - 숫자 모드를 이용한 권한 변경
        - 기호 모드로 표기하는 경우, 가독성은 높으나 전체적인 권한 조정 시 문자의 조합이 복잡해짐
            - → [해결책] 숫자 모드로 chmod 명령을 수행
        - 숫자 모드에서는 각 권한이 있고 없고를 0과 1로 표기하고 이를 다시 환산하여 숫자로 표현
        - 카테고리별로 권한의 조합에 따라 0부터 7로 나타낸다.
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2072.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2073.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2074.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2075.png)
            
        - 숫자 모드를 이용하여 test2의 접근 권한에서 소유자의 쓰기 권한과 모든 실행 권한 제거
            - 현재 test2의 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2076.png)
                
            - test2 파일의 소유자 쓰기 권한과 모든 실행 권한 제거
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2077.png)
                
        - 숫자 모드를 이용하여 test2의 접근 권한을 기타 사용자에게 실행 권한 부여
            - 현재 test2의 접근 권한 확인
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2078.png)
                
            - test2 파일의 기타 사용자에게 실행 권한을 부여
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2079.png)
                
        
    - 접근 권한 설정을 이용한 권한 변경
        - 리눅스에서는 파일이나 디렉터리를 생성할 때 기본 접근 권한이 자동적으로 설정
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2080.png)
            
    - 마스크 값의 의미
        - 파일이나 디렉터리 생성 시 부여하지 않을 권한을 지정해 놓는 것
        - 마스크 값이 002일 경우
            - ------w-이고, 기타 사용자에게 쓰기 권한은 부여하지 않겠다는 의미
        - 마스크 값을 바꾸면 파일이나 디렉터리를 생성할 때 적용되는 기본 접근 권한도 변경
    - umask 진리표
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2081.png)
        
    - 마스크 값의 의미
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2082.png)
        

# 유닉스 디렉터리 계층 구조

- 디렉터리 계층 구조
    - 트리 구조 : 리눅스에서 파일의 효율적 관리를 위해 디렉터리를 계층적으로 구성
    - 모든 디렉터리의 출발점: 루트(root, 뿌리) 디렉터리로, 빗금(/, 슬래시)으로 표시
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2083.png)
        
    - 서브 디렉터리(하위 디렉터리) : 최상단 루트 디렉터리(/) 아래의 디렉터리 (etc, usr, home, tmp)
    - 부모 디렉터리(상위 디렉터리) : 서브 디렉터리 위에 자신을 포함하고 있는 디렉터리 (’…’으로 표시)
- 루트 디렉터리의 서브 디렉터리
    - [user1@localhost ~]$ ls -F
    bin@ dev/ home/ lib64@ media/ opt/ root/ sbin@ sys/ usr/
    boot etc/ lib@ lost+found/ mnt/ proc/ run/ srv/ tmp/ var/
    [user1@localhost ~]$
        - /: 해당 파일이 디렉터리임을 표시
        - @(앳): 심벌릭 링크
- 디렉터리의 주요 기능
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2084.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2085.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2086.png)
    
- 작업 디렉터리와 홈 디렉터리
    - 작업 디렉터리
        - 현재 사용 중인 디렉터리를 작업 디렉터리(Working directory) 또는 현재 디렉터리(Current directory)라고 함
        - 현재 디렉터리 : ‘.’ 기호로 표시
        - 현재 디렉터리 위치 : pwd 명령으로 확인
    - 홈 디렉터리
        - 각 사용자에게 할당된 디렉터리로 처음 사용자 계정을 만들 때 지정
        - 사용자는 자신의 홈 디렉터리 아래에 파일이나 서브 디렉터리를 생성하며 작업 가능
        - 홈 디렉터리는 ‘~’ 기호로 표시 : ~user1
    - 작업 디렉터리
        - 경로명 : 파일 시스템에서 디렉터리 계층 구조에 있는 특정 파일이나 디렉터리의 위치 표시 (구분자 : /)
        - 절대 경로명 : 항상 루트(/) 디렉터리부터 시작
            - 반드시 / 으로 시작
            - 루트 디렉터리부터 시작하여 특정 파일이나 디렉터리의 위치까지 이동하면서 거치게 되는 모든 중간 디렉터리의 이름을 표시
            - 특정 위치를 가리키는 절대 경로명은 항상 동일
        - 상대 경로명 : 현재 디렉터리를 기준으로 시작
            - / 이외의 문자로 시작
            - 현재 디렉터리를 기준으로 서브 디렉터리로 내려가면 그냥 서브 디렉터리명을 추가
            - 현재 디렉터리를 기준으로 상위 디렉터리로 가려면 ..(마침표 두 개)를 추가
            - 상대 경로명은 현재 디렉터리가 어디냐에 따라 달라짐

# 유닉스 현재 디렉터리 확인/디렉터리의 파일 목록 확인

- 현재 디렉터리 확인하기 : pwd
    - 기능 : 현재 위치를 확인함
        - → 현재 디렉터리의 절대 경로명을 출력함
    - 형식 : pwd
- 디렉터리 내용보기
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2087.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2088.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%2089.png)
    
    - ls 명령의 심벌릭 링크 : dir, vdir
        - 윈도의 cmd 창에서 사용하는 명령과 동일

# 유닉스 디렉터리 이동/생성/삭제/변경/검색

- 디렉터리 이동 명령어
    - 디렉터리 이동하기 : cd
        - 현재 작업 디렉터리를 지정한 디렉터리로 이동
        - 디렉터리명을 지정하지 않으면 자신의 홈 디렉터리로 이동
        - 형식 : cd [디렉터리]
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2090.png)
            
- 디렉터리 생성 명령어
    - 디렉터리 만들기 : mkdir
        - 기능 : 디렉터리를 생성
        - 형식 : mkdir [옵션][디렉터리]
        - 옵션 :
            - -p : 하위 디렉터리를 계층적으로 생성할 때 중간 단계의 디렉터리가 없으면 자동으로 중간 단계 디렉터리를 생성하면서 전체 디렉터리를 생성함
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2091.png)
            
- 디렉터리 삭제 명령어
    - 기능 : 디렉터리를 삭제
    - 형식 : rmdir [옵션][디렉터리]
    - 옵션 :
        - -p : 지정한 디렉터리를 삭제하며, 그 디렉터리의 부모 디렉터리가 빈 디렉터리일 경우 디렉터리도 자동으로 삭제함
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2092.png)
            
- 디렉터리 변경 명령어
    - 디렉터리 이동하기: cd
    - 기능 : 지정한 디렉터리로 이동함
    - 형식: cd [디렉터리]
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2093.png)
        
- 디렉터리 검색 명령어
    - find 명령어
        - 디렉터리 내의 파일이나 디렉터리(폴더)를 찾는 검색 명령어
        - 단순히 파일 이름만을 가지고 찾는 것은 물론, 파일 모드, 파일 타입, 크기, 마지막으로 접근한 시간 등 여러 가지 다양한 조건으로 검색
        - 파일이 아닌, 디렉터리를 검색하려면 명령어 맨 끝에 “-type d” (따움표 제외) 라는 옵션을 붙여 주어야 함
        - 루트 디렉터리 아래에서, et로 시작하는 모든 디렉터리를 찾으려면 find / -name ‘et*’ -type d
        - “/”는 루트 디렉터리 즉 최상위 디렉터리를 의미
        - 형식 :  find [검색 디렉터리] [옵션] [파일명]
        - 옵션 : -name/-name [파일명]
            - name : 대소문자 구분하여 파일명 검색
            - iname : 대소문자 구분하지 않고 파일명 검색
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2094.png)
                
        - type 타입 종류
            - b: 블록 특수 파일(block device)
            - c: 캐릭터 특수 파일 (character deice)
            - d: 디렉토리(directory)
            - f: 일반파일(file)
            - l: 심볼릭 링크(link)
            - p: 파이프 (pipe)
            - s: 소켓 (socket)
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2095.png)
                
    - grep 명령어
        - 하위 폴더를 포함하여 존재하는 모든 파일에서 원하는 단어를 찾아주는 명령어
        - 검색어 내에 공백 문자가 있을 경우는 “ “ 를 사용
        - 형식 : grep [옵션] [검색어] [파일명]
        - 옵션
            - -i: 영문의 대소문자를 구별하지 않음
            - -v: pattern을 포함하지 않는 라인을 출력
            - -n: 검색 결과의 각 행의 선두에 행 번호를 넣음(first line is 1)
            - -l: 파일명만 출력
            - -c: 패턴과 일치하는 라인의 개수만 출력
            - -r: 하위 디렉토리까지 검색
            - -A: after n줄까지 출력
            - -B: before n줄까지 출력
        
        ![Untitled](컴퓨터시스템(1)/Untitled%2096.png)
        

# 유닉스의 디렉터리 생성/삭제

- 디렉터리 생성하기
    - 디렉터리 만들기 : mkdir
        - 기능 : 디렉터리를 생성
        - 형식 : mkdir [옵션][디렉터리]
        - 옵션
            - -p
                - 하위 디렉터리를 계층적으로 생성할 때 중간 단계의 디렉터리가 없으면 자동으로 중간 단계 디렉터리를 생성하면서 전체 디렉터리를 생성함
            - -m
                - 새로 생성되는 디렉터리의 파일 모드(접근 권한)를 명시적으로 생성
            - -m, -p 같이 사용
                - -p 옵션과 함께 -m 옵션이 사용되는 경우에는 명시적인 접근 권한은 최하위 디렉터리에만 적용 가능
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2097.png)
                
- 디렉터리 삭제하기
    - 디렉터리 삭제하기 : rmdir
        - 기능 : 디렉터리를 삭제(비어 있지 않은 디렉터리 삭제 불가)
        - 형식 : rmdir [옵션][디렉터리]
        - 옵션
            - -p : 지정한 디렉터리를 삭제하며, 그 디렉터리의 부모 디렉터리가 빈 디렉터리일 경우 그 디렉터리도 자동으로 삭제함
                
                ![Untitled](컴퓨터시스템(1)/Untitled%2098.png)
                
    - 디렉터리 삭제하기 : rm
        - 기능 : 디렉터리를 삭제
        - 형식 : rm [옵션] [디렉터리]
        - 옵션
            - -d : 빈 디렉터리 지움
            - -f : 존재하지 않거나 이미 지워진 파일은 무시하고 다음으로 넘어감
            - -l : 지우기 전에 파일을 지울 것인지 물어봄
            - -r : 하위 디렉터리 까지 모두 지움
            - -v : 무엇을 지웠는지 알려줌
            
            ![Untitled](컴퓨터시스템(1)/Untitled%2099.png)
            

# 유닉스의 디렉터리 이동/검색/이름 변경

- 유닉스 디렉터리 이동하기
    - 디렉터리 이동하기 : cd
        - 홈 디렉터리로 이동하는 방법
        - cd /home/user1
            - 절대 경로명을 사용하여 홈 디렉터리로 이동
        - cd ../../home/user1
            - 현재 /usr/lib 디렉터리에 있으므로 이를 기준으로 상대 경로명을 사용하여 홈
            디렉터리로 이동
        - cd ~
            - 홈 디렉터리를 나타내는 기호인 ~를 사용하여 홈 디렉터리로 이동
        - cd
            - 목적지를 지정하지 않고 cd 명령만 사용하면 해당 계정의 홈 디렉터리로 이동
        - cd ~/사용자계정ID
            - 해당 사용자 계정 ID의 홈 디렉토리로 이동
- 유닉스 디렉터리 검색하기 (find)
    - 디렉터리 내의 파일이나 디렉터리(폴더)를 찾는 검색 명령어
    - 단순히파일 이름만을 가지고 찾는 것은 물론, 파일 모드, 파일 타입, 크기, 마지막으로 접근한 시간등 여러가지 다양한 조건으로 검색
    - 파일이 아닌, 디렉토리를 검색하려면 명령어 맨 끝에 “- type d” (따옴표 제외) 라는 옵션을 붙여 주어야 함
    - 루트 디렉토리 아래에서, et 로 시작하는 모든 디렉토리를 찾으려면 find / -name ‘et*’ -type d
    -  “/” 는 루트 디렉토리 즉 최상위 디렉토리를 의미
    - [형식] find [찾고자 하는 위치] [옵션][액션]
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20100.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20101.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20102.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20103.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20104.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20105.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20106.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20107.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20108.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20109.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20110.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20111.png)
    

# 유닉스의 텍스트 에디터

- 유닉스 편집기
    - 텍스트 파일의 작성, 편집 및 저장에 필요한 유틸리티 프로그램
    - GUI 환경인 그놈에서 제공하는 gedit으로 간단하게 문서 작성이 가능
    - 특징
        - 커서와 화면 이동이 자유로움
        - 파일의 편집 위치가 자유로움
        - 편집 기능이 다양
        - vi에서 다루는 모든 자료는 일시적인 작업을 할 수 있도록 버퍼에 파일의 사본을 만드므로, 반드시 저장해야 함
    - 행 단위 편집기 :
        - ed : 유닉스 초기의 행 편집기로 사용이 불편하여 거의 사용 하지 않음
        - ex : 행 편집기이지만 단독으로 사용하기보다는 vi에 연결하여 vi를 더욱 강력하게 하는 다양한 기능을 제공
        - sed :스트림 편집기로, 일반 편집기와 달리 지시된 명령에 따라 파일의 내용을 일괄적으로 바꿔서 출력해줌
    - 화면 단위 편집기
        - vi : 리눅스에서 일반적으로 사용할 수 있는 화면 편집기
        - emacs(이맥스) : 제공하는 기능이 매우 다양하지만 사용법이 어렵고 복잡하여 전문적인 애호가 위주로 사용
    - GUI 편집기 : gedit

# vi 사용법

- 시작과 종료
    - vi 시작
        - 파일을 지정할 경우와 종료하지 않을 경우
            - 해당 파일이 있으면 파일의 내용이 보이고, 없는 파일이면 빈 파일이 열림
        - 파일을 지정하지 않을 경우
            - 그냥 빈 파일이 열림(파일명은 저장할 때 지정 가능)
    - vi 종료
        - 명령 모드나 마지막 행 모드에서 저장하고 종료 가능
        - vi의 저장과 종료 명령 키
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20112.png)
            
- vi 명령 형식 : vi [옵션][파일]
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20113.png)
    
- vi 입력 모드 전환
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20114.png)
    
- vi 커서 이동
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20115.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20116.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20117.png)
    
- vi 내용 변경
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20118.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20119.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20120.png)
    

# vi 환경설정

- 모드형 편집기와 비모드형 편집기
    - 모드형
        - 입력 모드 : 텍스트를 입력할 수 있는 모드
        - 명령 모드 : 텍스트를 수정하고, 삭제하고, 복사와 붙이기 등 편집을 하는 모드
            - 같은 글자라도 입력 모드에서는 텍스트로 처리하여 입력되고, 명령 모드에서는 텍스트로 입력되는 것이 아니라 편집 명령으로 사용
            - vi는 모드형 편집기
    - 비모드형
        - 입력 모드와 명령 모드가 구분되어 있지 않음
        - 편집 기능을 Ctrl이나 Alt 같은 특수 키와 함께 사용
        - 한글과 워드는 비모드형 편집기
    - 모드형과 비모드형 편집기의 비교
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20121.png)
        
- vi 환경 설정 방법
    - vi 환경 설정하기
        - 사용자 홈 디렉터리에 .exrc 파일로 저장
        - vim 편집기에서는 ~/.vimrc이 추가되었으며 ~/.exrc와 함께 제공
        - vi의 마지막 행 모드에서 명령으로 실행
    - vi 환경 설명 방법
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20122.png)
        
        - 사용자별 환경 설정
            - 유닉스는 처음 설치하면 기본적으로 /bin/sh와 /bin/csh가 깔림
            - /bin/sh
                - 특별한 키워드 없이 환경설정
                - 설정된 환경 볼 때 ⇒ set
                - PATH 잡을 때 : ⇒ PATH = $PATH:/usr/bin:usr/share/bin:/usr/ucb
                - vi에서 화면 스크롤이 잘 안 될 때 ⇒ TERM=xterm
                - 솔라리스 터미널에서 ⇒ TERM=sun
                - 모든 사용자에게 환경을 적용시키고 싶다면 ⇒ /etc/profile
                - 개인적으로 설정 하고 싶다면 ⇒$HOME/.profile
            - /bin/csh
                - 환경설정 할 때 ⇒ setenv
                - 설정된 환경 볼 때 ⇒ set
                - setenv TERM xterm 
                setenv PATH
                $PATH: /usr/bin:/usr/local/bin:/usr/ucb
                - 모든 사용자에게 환경을 적용시키고 싶다면
                /etc/profile
                /etc/cshrc
                - 개인적으로 설정 하고 싶다면
                $HOME/.cshrc
            - [/bin/bash]
                - bash는 따로 설치 필요
                - 환경설정 할 때 ⇒ export
                - 설정된 환경 볼 때 
                set export PATH=$PATH:/usr/bin:/usr/share/bin:/sbin:/usr/sbin
                export TERM=xterm
                - 모든 사용자에게 환경을 적용시키고 싶다면
                /etc/profile
                /etc/bashrc
                - 개인적으로 설정 하고 싶다면 $HOME/.bashrc

# vi 입력과 수정

- vi 입력
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20123.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20124.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20125.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20126.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20127.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20128.png)
    
- vi 수정
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20129.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20130.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20131.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20132.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20133.png)
    

# vi 편집 방법

- 내용 검색 및 변경하기
    - 검색하기
        - 검색하기 위해 마지막 행으로 이동할 때는 ‘:’이 아니라 ‘/’ 이나 ‘?’을 입력
        - 검색하기 명령 키
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20134.png)
            
    - 바꾸기
        - 기존의 문자열을 다른 문자열로 바꾸려면 먼저 :을 입력하여 마지막 행 모드로 전환
        - 커서 위치의 문자열만 바꿀 수 있음
        - 파일 전체나 특정 범위 내에서 해당하는 문자열을 모두 바꿀 수도 있음
        - 바꾸기 명령 키
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20135.png)
            
- 파일 읽고 편집하기
    - 파일 관련 명령 키
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20136.png)
        
    - 파일 읽어와 삽입하기
        - vi test.txt 실행 후 커서를 4행으로 이동한 후, :r exec2.txt를 실행하면 exec2.txt 파일의 내용이 text.txt 파일의 4행 다음에 삽입
- vi 편집기와 셸 명령
    - vi에서 셸 명령 사용하기
        - 셸 명령 실행 명령 키
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20137.png)
            
    - 기타 명령하기
        - 기타 명령 키
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20138.png)
            
    - 파일 편집하기
        - 파일 편집을 마치고 다른 파일 편집하기
            - -:e 명령 키는 현재 작업 중인 파일의 작업을 마치고 다른 파일을 편집하려고 할 때 사용
                - test.txt 파일 편집을 완료하고 exec.txt 파일 편집으로 바꾸려면 :e exec.txt 사용
            - 이때 작업 중이던 파일을 먼저 저장하고 :e 명령을 실행해야 함
        - 여러 파일 편집하기
            - vi를 시작할 때 파일명을 여러 개 지정
            - 파일 작업을 마치고 다음 파일로 이동하려면 :n을 입력

# 유닉스 셸의 기능과 종류

- 셸의 기능
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20139.png)
    
    - 명령어 해석기 기능
        - 사용자와 커널 사이에서 명령을 해석하여 전달
        - 사용자가 로그인하면 셸이 자동으로 실행되어 사용자가 명령을 입력하기를 기다림 → 로그인 셸
        - 프롬프트 : 셸이 사용자의 명령을 기다리고 있음을 나타내는 표시
        - 로그인 셸 : /etc/passwd 파일에 사용자별로 지정
    - 프로그래밍 기능
        - 셸은 자체 내에 프로그래밍 기능이 있어 반복적으로 수행하는 작업을 하나의 프로그램으로 작성 가능
        - 이러한 셸 프로그램일 셸 스크립트라고 지칭함
    - 사용자 환경 설정 기능
        - 사용자 환경을 설정할 수 있도록 초기화 파일 기능 제공
        - 명령을 찾아오는 경로 설정
        - 파일과 디렉터리를 새로 생성할 때 기본 권한을 설정
        - 다양한 환경 변수 등을 설정
        - 사용자별로 사용 환경의 특성을 초기화 파일에 설정
        - 로그인 시, 초기화 파일이 실행됨
- 셸의 종류
    - 본 셸(Bourne shell)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20140.png)
        
        - 유닉스 V7에 처음 등장한 최초의 셸
        - 개발자의 이름인 스티븐 본(Stephen Bourne)의 이름을 따서 본 셸이라고 함
        - 초기에 단순하고 처리 속도가 빨라서 많이 사용
        - 경로를 확인해보면 배시 셸과 심벌릭 링크로 연결되어 있음
        - 지금도 시스템 관리 작업을 수행하는 많은 셸 스크립트는 본 셸을 기반으로 함
        - 히스토리, 에일리어스, 작업 제어 등 사용자의 편의를 위한 기능을 제공하지 못해 이후에 다른 셸들이 등장
        - 본 셸의 경로를 확인해보면 배시 셸과 심벌릭 링크로 연결되어 있음
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20141.png)
            
    - C 셸(C shell)
        - 캘리포니아대학교(버클리 캠퍼스)의 빌 조이(Bill Joy)가 개발
        - 2BSD 유닉스에 포함되어 발표
        - 본 셸에는 없던 에일리어스나 히스토리 같은 사용자 편의 기능 포함
        - 셸 스크립트 작성을 위한 구문 형식이 C언어와 같아 C 셸이라는 이름을 가지고 되었음
        - C 셸의 명령 이름 → csh
    - 콘 셸(Korn shell)
        - 1980년대 중반 AT&T 벨구소의 데이비드 콘(David Korn)이 콘 셸을 개발
        - 유닉스 SVR 4에 포함되어 발표
        - C 셸과 달리 본 셸과의 호환성을 유지하고 히스토리, 에일리어스 기능 등 C 셸의 특징도 모두 제공하면서 처리 속도도 빠름
        - 콘 셸의 명령 이름 → ksh
    - 배시 셸(bash shell)
        - 본 셸을 기반으로 개발된 셸로서 1988년 브레인 폭스(Brain Fox)가 개발
        - 본 셸과 호환성을 유지하면서 C 셸, 콘 셸의 편리한 기능도 포함
        - 배시 셸의 명령 이름 → bash
        - 배시 셸의 모든 버전은 GPL 라이선스에 의거하여 자유롭게 사용 가능
        - 리눅스의 기본 셸로 제공되고 있어 리눅스 셸로도 많이 알려짐
    - 셸 종류 알아보기
        - 프롬프트 모양 참조
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20142.png)
            
        - 사용자 정보 확인 : /etc/passwd 파일
            - 가장 앞에 나온 정보가 로그인 ID
            - 사용자 정보의 가장 마지막에 나온 /bin/bash가 기본 셸
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20143.png)
                
        - 현 UNIX의 셸 종류 알아보기 : ps
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20144.png)
            
        - 현 UNIX의 셸의 경로 알아보기 : ls -l /bin/sh
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20145.png)
            
    - 로그인 셸과 서브 셸
        - 로그인 셸 : 사용자가 로그인 한 직후 자동 생성되는 기본 셸
        - 프롬프트에서 다른 셸을 실행할 수 있는데 이를 서브 셸이라 함
        - 서브 셸은 또 다른 서브 셸 생성 가능
        - 서브 셸을 종료하는 명령 : ^d(ctrl+d), exit 등
        - 로그인 셸에서 로그아웃하면 접속 해제
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20146.png)
            

# 유닉스 셸의 사용법 및 환경 변수

- 배시 셸의 사용법
    - 현재 환경 변수의 전체 목록: declare 명령어
    - 입출력 방향 바꾸기
        - 표준 입출력 장치
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20147.png)
            
            - 파일 관리를 위해 붙이는 일련 번호
            - 입출력 장치를 변경할 때는 이 파일 디스크립터를 사용
            - 표준 입출력 장치를 파일로 바꾸는 것을 ‘리다이렉션(Redirection)’이라고 함
            - 표준 입출력 장치의 파일 디스크립터
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20148.png)
                
        - 방향 바꾸기
            - 출력 재지정
            - 입력 재지정
            - >, >> (stdout을 파일로 저장 또는 추가)
            - <(파일을 stdin으로 전달)
        - 파이프( | )
            - Process 연결 (stdout을 stdin으로 전달)
            - Process 간의 데이터 흐름은 자동으로 조절됨
        - 출력 리다이렉션
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20149.png)
            
            - 셀은 > 를 사용한 리다이렉션에서 지정한 이름의 파일이 없으면 파일을 생성해서 명령의 수행 결과를 저장
            - 파일이 있으면 이전의 내용이 없어지고 명령의 수행 결과로 대체
    - 예상치 않게 파일의 내용이 겹쳐 쓰이는 상황 예방
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20150.png)
        
    - 파일에 내용 추가하기 : >>
        - 기능 : 파일에 내용을 추가
        - 형식 : 명령 >> 파일명
        - 지정한 파일이 있는 경우 : 기존 파일의 끝에 명령의 실행 결과 추가
        - 지정한 파일이 없는 경우 : 파일을 생성
    - 오류 방향 바꾸기
        - 오류 리다이렉션: 표준 오류 메시지를 파일에 저장
            - 표준 오류도 기본적으로 화면으로 출력되며 표준 출력처럼 리다이렉션 가능
            - 표준 출력 리다이렉션 → 오류 메시지는 리다이렉션 안됨
            - 오류 리다이렉션에서는 파일 디스크립터 번호를 생략 불가
            - 표준 출력과 표준 오류를 한 번에 리다이렉션하기
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20151.png)
                
        - 입력 리다이렉션 : 표준 입력을 바꿈
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20152.png)
            
- 배시 셸의 환경변수
    - 배시 셸의 환경 변수 설정 방법
        - export 명령어를 통해 실행 : 1만 적용(재부팅 시 초기화)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20153.png)
            
        - .bashrc 파일 설정을 수정
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20154.png)
            
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20155.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20156.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20157.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20158.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20159.png)
    

# 유닉스 셸 명령의 사용법

- 셸의 기능
    - 셸은 자체적으로 내장 명령을 가지고 있다
    - 셸 내장 명령은 별도의 실행 파일이 없고 셸 안에 포함된다
    - 실행 파일은 바이너리 파일이므로 cat 명령으로 파일의 내용을 확인할 수 없다
    - 화면에 한 줄의 문자열을 출력 : echo
        - 형식 : echo [옵션][문자열]
        - 옵션
            - -n : 마지막에 줄바꿈을 하지 않음
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20160.png)
                
    - 배시 셸의 출력 명령 : printf
        - 기능 : % 지시자와 \ 문자를 이용하여 출력 형식을 지정 가능
        - 형식 : printf [옵션][인수]
        - 옵션
            - %d, \n 등 : 언어 printf 함수의 형식을 지정
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20161.png)
                
- 특수문자 사용하기
    - 사용자가 더욱 편리하게 명령을 입력하고 실행할 수 있도록 다양한 특수문자 제공
    - 명령을 입력하면 셸은 먼저 특수문자가 있는지 확인하고 이를 적절한 형태로 변경한 후 명령을 실행
    - *(별표)
        - 임의의 문자열을 나타내는 특수문자로 0개 이상의 문자로 대체
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20162.png)
            
    - ?와 [ ]
        - 하나의 문자를 나타내는 데 사용
        - ? : 길이가 1인 임의의 한 문자
        - [ ] : 괄호 안에 포함된 문자 중 하나
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20163.png)
            
    - ~와 -
        - 디렉토리를 나타내는 특수 문자
        - ~ : 현재 작업 중인 사용자 홈 디렉토리
        - ~사용자 로그인 ID : 해당 사용자의 홈 디렉토리
        - ~ : cd 명령으로 디렉토리 이동 직전의 작업 디렉토리
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20164.png)
            
    - ;과 |
        - 명령과 명령을 연결하는데 사용
        - ; : 연결된 명령을 왼쪽부터 차례로 실행
        - |  : 왼쪽 명령의 실행 결과를 오른쪽 명령의 입력으로 전달
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20165.png)
            
    - ‘’와 “”
        - ‘’(작은 따움표)와 “”(큰 따움표)는 문자를 감싸서 문자열로 만들어주고,문자열 안에 사용된 특수 문자의 기능을 없앤다
        - ‘’ : 모든 특수 문자를 일반 문자로 간주하여 처리
        - “” : $, ‘, \ 를 제외한 모든 특수 문자를 일반 문자로 간주하여 처리
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20166.png)
            
    - ` (백쿼터)
        - [Esc] 키보드 상단에 있는 문자를 사용
        - 명령 실행 결과를 문자열로 받고자 할 때 사용
        - “``”로 감싸인 문자열을 명령으로 해석하여 명령의 실행 결과로 전환
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20167.png)
            
    - \ (영문 환경|) \(한글 환경)
        - 특수문자 바로 앞에 사용
        - 해당 특수문자의 효과를 없애고 일반 문자처럼 처리
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20168.png)
            
    - 특수문자 >, <, >>
        - 입출력의 방향을 바꾸는 특수문자
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20169.png)
            
- 에일리어스
    - 에일리어스(alias)는 우리말로 별명을 의미
    - 기존의 명령을 대신하여 다른 이름(별명)을 붙일 수 있도록 하는 기능
    - 긴 명령 대신 짧은 명령을 만들어 사용 가능
    - 여러 명령을 연결하여 하나의 명령으로 만들 수도 있음
    - 자주 사용하는 옵션을 포함하여 새로운 이름을 붙여서 사용 가능
    - 기능 : 에일리어스를 생성함
    - 형식 : alias 이름 = 명령
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20170.png)
        
    - 에일리어스에 인자 전달하기
        - 배시 셸에서는 에일리어스로 인자를 전달할 수 없다
        - 배시 셸에서 인자를 전달하려면 프로그래밍 기능에서 함수를 사용해야 한다
    - 에일리어스 해제하기 : unalias
        - 기능 : 에일리어스를 삭제
        - 형식 : unalias 에일리어스
- 히스토리
    - 사용자가 이전에 입력한 명령을 다시 불러 사용하는 것
    - 기능 : 히스토리(명령 입력 기록)를 출력함
    - 형식 : history
    - 명령 재실행하기 : !
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20171.png)
        
        - 화살표 키를 사용하여 오류가 난 명령을 다시 프롬프트로 불러내서 수정한 뒤 재실행 가능
            - 프롬프트에서 ↑키를 누르면 방금 실행한 명령이 다시 나타남
            - 좌우 화살표로 커서를 이동하여 백스페이스키로 삭제한 후 다시 글자를 입력하고 엔터키를 눌러서 실행
    - 히스토리 저장하기
        - 로그아웃할 때 홈 디렉터리 아래의 숨김 파일인 .bash_history에 히스토리 저장
- 프롬프트
    - 프롬프트 실행 변수 : PS1
        - 프롬프트를 바꾸는 것은 환경 변수 PS1에 새로운 형태의 문자열을 지정하는 것
    - 명령 편집하기와 재실행하기
        - 이스케이프 문자: \로 시작하는 특별한 문자
        - \u와 같이 \로 시작하는 이스케이프 문자는 두 글자가 아니라 한 글자로 처리
        - 이스케이프 문자는 화면에 문자 그대로 출력되지 않고 셸이 문자의 의미를 해석하여 실행
    - 프롬프트에서 사용할 수 있는 이스케이프 문자
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20172.png)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20173.png)
        
    - 컬러 프롬프트 설정하기
        - 형식 : PS1 = ‘\[\e[x;y;nm\] 프롬프트 \[\ㄷ[x;y;0m\]’
        - 프롬프트 컬러 번호
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20174.png)
            
        - 프롬프트 특수 기능 번호
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20175.png)
            

# 유닉스 셸 환경 설정

- 셸 변수와 환경 변수
    - 셸의 환경을 설정하기 위한 값을 저장할 수 있도록 셸 변수와 환경 변수를 제공
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20176.png)
        
    - 변수 출력
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20177.png)
        
    - 주요 셸 환경 변수
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20178.png)
        
- 셸 & 환경 변수 설정
    - 셸 변수 설정하기
        - 변수명과 문자열 사이에 공백이 있으면 안 된다
        - 형식 : 변수명 = 문자열
    - 환경 변수 설정하기 : export
        - 기능 : 지정한 셸 변수를 환경 변수로 바꿈
            - 먼저 셸 변수를 정의하고, export 명령을 사용하여 이를 환경 변수로 변경
            - 변수로 설정하면서도 바로 export 명령을 사용하여 한 번에 환경 변수로 전환도 가능
        - 형식 : export [옵션][셀 변수]
        - 옵션 : -n 환경 변수를 셸 변수로 변경
    - 변수 해제하기
        - 기능 : 지정한 변수를 해제함
        - 형식 : unset 변수
- 환경 설정 파일
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20179.png)
    
    - 시스템 환경 설정 파일
        - 시스템을 사용하는 전체 사용자의 공통 환경을 설정하는 파일
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20180.png)
            
    - 사용자 환경 설정 파일
        - 각 사용자의 홈 디렉터리에 숨김 파일로 생성하는 파일
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20181.png)
            

# 셸 스크립트

- 스크립트
    - 인터프리터라 불리는 다른 프로그램에 의해 실행되는 프로그램
    - 자바 스크립트, Perl, 파이썬 등이 있음
    - 최종사용자가 응용 프로그램의 동작을 사용자의 요구에 맞게 수행할 수 있도록 해줌
    - 스크립트 언어라고도 하며 응용 프로그램과 독립하여 사용
    - 셸 스크립트
        - 셸이 실행하는 프로그램
        - 유닉스 명령 + 셸이 제공하는 프로그램 구성 요소
        - 셸 스크립트 파일 이름은 키워드나 에일리어스, 내장 명령과 같은 이름을 쓰지 않는 것이 바람직
    - 셸 명령 실행 순서
        - 에일리어스 → 키워드 (if, while, until 등) → 함수 → 내장 명령(cd, echo 등) → 스크립트, 유틸리티 등 PATH 경로에 있는 실행 가능한 파일
    - vi 에디터로 편집
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20182.png)
        
    - 스크립트 실행 방법
        - 셸을 실행하면서 인자로 스크립트 이름 지정
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20183.png)
            
        - 파일을 직접 실행
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20184.png)
            
    - exit[종료상태]
        - 스크립트의 종료
        - 셸 스크립트 문서의 끝
        - 기능 : 종료 상태를 $? 변수에 저장
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20185.png)
            
            - 파일의 마지막 명령을 실행
            - exit 문 실행
- 셸 스크립트 구성요소
    - 스크립트 파일의 구성요소 : #!
        - 파일의 가장 처음에 위치
        - 스크립트를 실행할 프로그램 지정
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20186.png)
            
            - 각 셸마다 제공하는 스크립트 언어의 문법이 조금씩 다르므로, 이 스크립트를 실행할 셸을 지정해 주어야 올바르게 실행된다
            - 셸이 아닌, 다른 실행 가능한 명령을 지정해 주어도 된다.
    - 스크립트 파일의 구성요소: #
        - 주석(Comment)
        - 프로그램에 대한 설명
        - 행 전체, 또는 행의 일부를 주석으로 처리할 수 있음
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20187.png)
            
    - 스크립트 파일의 구성요소 : 셸 명령
        - 셸이 실행할 수 있는 모든 명령어 사용 가능
        - 여러 명령을 반복 수행해야 할 때 스크립트 파일로 저장하여 실행
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20188.png)
            
    - 스크립트 파일의 구성요소 : 셸 프로그램
        - 각 셸이 제공하는 프로그램을 위한 구문
        - 셸 변수, 인자처리, 각종 연산자, 제어문 등 포함
- 셸 프로그래밍 절차
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20189.png)
    

# 셸 변수

- 단일 변수
    - 셸 변수는 대소문자를 구분함
    - =를 이용해서 선언하고 $를 이용해서 사용
    - {}는 parameter substitution 으로 $와 함께 감싼 부분에 변수 대입
    - “”로 감싸서 사용하면 더 안전(문자열에 공백도 포함해서 값을 이용할 수 있기 때문) EX) $ex → “${ex}”
    - =는 공백 없이 붙여서 써야 한다
    - 지역변수에는 local을 붙임
    - 변수명 앞에 export를 붙여주면 환경변수(environment variable)로 설정되어 자식 스크립트에서 사용가능
    - 환경 변수 사용시, 예약 변수에 주의 필요
    - 환경 변수 정의 : .bash_profile 에서 정의
    - 나이를 출력하는 배시 쉘 프로그램
        - age 변수에 “age=”이라는 문자열 저장
        - num 변수에 65라는 나이를 저장
        - echo 명령어를 이용하여 나이를 출력
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20190.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20191.png)
            
    - 변수 타입 지정
        - Bash 변수는 타입을 구분하지 않고 기본적으로 문자열
        - 문맥에 따라서 연산 처리
        - declare, typeset 타입 지정 명령 지원
        - 코멘트에 있는 다른 문법 사용을 추천
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20192.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20193.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20194.png)
            
    - 주석문
        - #
            - # echo “Echo Test”
    - 출력문
        - echo
        - printf
            - $# : 스크립트에 전달되는 인자들의 수(C언어에서 argc)
            - $0 : 실행하는 스크립트의 파일명으로 실행했을 때 경로를 포함한다면 경로를 포함해서 나옴
            - $1, $2 … : 스크립트로 전달된 인자들(C언에서 argv[0], argv[1]…)
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20195.png)
                
- 배열 변수
    - 아래처럼 배열 이름=(원소1 원소2 …) 의 형태로 선언
    - 배열의 인덱스는 0부터 시작
    - 배열이름[@]는 배열의 모든 원소를 의미
    - 1차원 배열만 지원
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20196.png)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20197.png)
        
        ![Untitled](컴퓨터시스템(1)/Untitled%20198.png)
        
- 예약 변수(Reserved Variable)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20199.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20200.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20201.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20202.png)
    
- 위치 매개 변수(Positional Parameters)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20203.png)
    
- 특수 매개 변수(Special Parameters)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20204.png)
    
- 매개 변수 확장(Parameter Expansion)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20205.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20206.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20207.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20208.png)
    
- 선언 및 지정문
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20209.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20210.png)
    

# 배시 셸 명령

- 배시 셸 기능
    - 탭 완성
        - 사용하려는 명령의 일부만 입력하고 tab 키를 이용하여 완성
        - 중복되는 문자열(파일)/명령이 많을 경우 tab키를 한 번 더 누르면 중복되는 목록을 표시
            - pr 치고 [tab] + [tab] 두번 칠 경우 중복되는 목록 표시
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20211.png)
                
    - 명령라인 히스토리 [키보드 방향키 up/down] / #history
        - 이전에 실행했던 명령어를 재 실행 할 수 있음
        - 오타나 잘못된 명령어를 실행한 경우, 키보드 방향키 up/down을 이용하여 이전 명령어를 불러와 오타만 수정하기 위해 사용
        - 이전에 입력했었던 명령어들 출력, 기본 1000줄 출력
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20212.png)
            
    - alias 기능
        - 명령어에 별명을 지정해서 사용할 수 있게 만들어 주는 기능
        - *clear라는 명령어를 c라는 별명으로 지정된 것이며, c만 쳐도 clear라는 명령어 기능을 수행
        - alias 등록 : alias [name] = [value]
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20213.png)
            
        - 현재 등록된 alias 확인 : alias
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20214.png)
            
        - [name]으로 등록된 alias 해제 : unalias [name]
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20215.png)
            
    - 중괄호 확장 #echo [문자열]
        - bash shell에만 있는 기능으로 임의의 문자열을 생성하고 이를 실행
        - 괄호를 기반으로 명령어를 확장할 문자열을 콤마로 구분해서 작성
        - 중괄호 앞뒤에는 치환되지 않는 패턴을 적어 문자열을 생성
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20216.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20217.png)
            
    - 반복문 (for loop)
        - 명령어를 여러 번 실행할 때나 증가하는 패턴을 처리할 때 유용한 기능
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20218.png)
            
    - 줄편집
        - Bash 커맨드라인(Command Line)을 편집해서 쓸 수 있는 기능으로 익숙해지면 작업이 더 효율적
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20219.png)
            
    - 역 점진 탐색
        - bash의 history 크기 : HISTSIZE 환경 변수에 저장할 수 있는 최대 갯수(기본 값 : 1000, 확인 방법 #echo $HISTSIZE)
        - 저장되어 있는 범위 내에서 예전에 사용했던 명령어를 한 글자씩 입력하면서 찾을 수 있음
        - 많은 명령어를 수행 했을 때 예전 명령어를 불러올 때 유용
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20220.png)
            
- Login
    - 사용자 계정 및 암호를 통해 사용자 인증을 거치는 과정
    - 파일 및 디렉토리에 대해 접근 권한 및 사용 권한을 얻어 시스템을 사용할 수 있게 되는 과정
    - 멀티 유저 환경으로 이러한 과정이 없으면, 다른 사용자가 임의로 시스템 변경 작업을 할 수 있는 문제가 발생
- 기타
    - 백그라운드 작업 : &
        - 여러 작업을 동시에 수행
        - 입력 없이 시간이 많이 걸리는 작업에 편리

# 프롬프트 및 환경 설정 파일 설정

- 프롬프트
    - 셸이 사용자의 입력을 기다리고 있음을 유저에게 알려주기 위해 사용
    - Prompt 를 잘 사용하게 되면 어떤 호스트에서 작업을 하는지, 혹은 몇 시인지, 어떤 디렉터리에서 작업하고 있는지 등의 작업정보 등을 얻을 수 있음
    - 프롬프트 정보는 환경변수 PS1에 저장됨
    - echo $PS1 해 보면 현재 설정된 프롬프트 정보를 볼 수 있음
    - bash는 효율적인 프롬프트 정보를 보여주기 위해서 몇 개의 특수 문자들을 제공
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20221.png)
    
    ![Untitled](컴퓨터시스템(1)/Untitled%20222.png)
    
- PROMPT_COMMAND
    - Prompt 전에 명령 실행시키기
        - PROMPT_COMMAND에는 특정 명령어(스크립트 혹은 실행파일)가 값으로 들어감
        - 사용자에게 프롬프트가 떨어지기 전에 변수에 있는 명령 실행
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20223.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20224.png)
            
    - 사용자 명령어 추적
        - 사용자 명령을 실시간으로 추적하는 프로그램을 보안셸
        - 보안셸에는 이외에도, 파일보안, 디렉토리 보안, 프로세스 보안 등과 같은 다양한 기능이 들어감
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20225.png)
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20226.png)
            
- 환경 설정 파일 설정
    - 환경 설정 파일
        - 사용자마다 로그인할 때 자동으로 실행되는 명령을 저장한 환경 설정 파일
        - 시스템 환경 설정 파일과 사용자 환경 설정 파일이 있음
        - 셸마다 다른 이름의 파일 사용
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20227.png)
            
    - source 명령어
        - source 명령어 또는 . 명령어는 셸 스크립트 파일명을 매개변수로 받는데, 이 파일을 현재 셸에서 실행시킴
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20228.png)
            
    - set, shopt 명령어를 이용한 옵션 설정
        - set 명령어 ↔ unset 명령어 (변수 해제)
            - set 명령어의 -o 옵션을 이용하면 셸 환경에 대한 세부적인 사항을 설정할 수 있음
            - set -o 명령을 실행하면 사용 가능한 모든 옵션의 목록과 설정된 값(on/off)을 출력
            - set -o 옵션명을 실행하면 해당 옵션의 on/off 여부를 toggle 할 수 있음
            - 대부분의 옵션에는 축약형이 존재
            - 예 : set -o allexport 명령은 set -a으로 줄여서 사용 가능
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20229.png)
                
        - shopt 명령어
            - shopt 명령어는 set 명령어를 대체하기 위해 2.x 이후 버전부터 적용된 명령(shopt = shell options의 줄이말)
            - set 명령과 유사하나, 더욱 다양한 옵션들을 제공
            - shopt -p 명령을 실행하면 사용 가능한 모든 옵션의 목록을 볼 수 있음
            - -u는 현재 사용하지 않는 옵션, -s은  현재 사용하는 옵션임을 의미
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20230.png)
                
        - set, shopt 명령어를 이용한 옵션 설정
            - set 명령어는 -o 옵션으로 설정 확인, on으로 변경, off로 변경을 모두 처리
            - shopt는 이들을 각각 다른 옵션으로 실행
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20231.png)
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20232.png)
                
    - PATH 설정
        - 배시 셸은 커맨드 라인에 입력된 명령의 위치를 찾기 위해 변수 PATH의 값을 참조
            - 각 경로들은 콜론(:)으로 구분되어 있으며, 왼쪽에서 오른쪽 방향으로 검색
            - 경로의 맨 마지막 dot.은 현재 작업 디렉토리를 의미
            - 경로의 맨 마지막에 dot(.)을 지정하지 않은 경우에는 현재 작업 디렉토리에 있는 명령이나 파일을 수행시킬 때 파일명 앞에 ./을 붙여야 함
            - 예 : ./helloWorld.sh
            - ./을 붙이지 않고 파일명 helloWorld.sh만 입력하면 셸은 파일을 찾지 못함
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20233.png)
                
    - 환경 변수
        - 사용하고자 하는 셸의 환경을 작업 환경에 맞게 혹은 작업의 필요에 맞추어서 설정하는 데 사용되는 값들
        - 이렇게 변환된 변수 값으로 사용자가 원하는 방향으로 작업을 이끌어갈 환경을 설정
            
            ![Untitled](컴퓨터시스템(1)/Untitled%20234.png)
            
        - 환경 변수 값 확인
            - 하나씩 확인 : #echo $변수이름 혹은 #printenv 변수이름
            - 현재 설정된 변수값 모두 확인 : printenv
        - 셸 변수를 환경 변수로 설정, 환경변수의 값 설정/변경
            - export [-n] [셸 변수 이름] = [변수값]
            - -n : 환경 변수를 셸 변수로 변경
                
                ![Untitled](컴퓨터시스템(1)/Untitled%20235.png)