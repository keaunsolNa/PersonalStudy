# OS Emulation

![Untitled](OS%20Emulation%20dbfaf9a17898454bb7f1417c546b80fd/Untitled.png)

# 정의

- 소프트웨어 측면에서의 에뮬레이션은 다른 프로그램이나 장치의 동작을 모방하기 위해 응용 프로그램이나 장치를 사용하는 것이다.
    - 에뮬레이션의 일반적인 용도는 다음과 같다.
        - 원래 설계되지 않은 하드웨어 플랫폼에서 OS를 실행
        - 데스크톱 컴퓨터에서 아케이드 또는 콘솔 기반 게임 실행
        - 개발된 장치가 아닌 다른 장치에서 레거시 응용 프로그램 실행
        - 원래 작성된 OS가 아닌 다른 OS에서 응용 프로그램을 실행
        - Linux에서 Windows 애플리케이션 실행 등
- 서버 가상화에서의 에뮬레이션은 가상 환경과 동의어이다.
    - 가상 환경은 파티션, 게스트, 인스턴스 또는 컨테이너라고도 한다.
- 하드웨어에서 에뮬레이션은 장치를 서로 연결하거나 메인프레임 컴퓨터에 연결하기 위해 하드웨어를 사용하여 다른 하드웨어 장치의 기능을 모방하는 것이다.
    - 하드웨어 에뮬레이션은 주변 장치가 더 이상 사용되지 않을 때 유용할 수 있다.
    - 터미널 에뮬레이션을 사용하여 컴퓨터 터미널이 일반적으로 이전 유형의 다른 터미널처럼 보이고 작동하게 함으로써 사용자가 레거시 프로그램에 액세스할 수 있게 되는 것.

# 가상화와의 차이점

- 하드웨어 가상화는 컴퓨터를 복합 하드웨어 플랫폼으로 사용자 정의하고 가상화하거나, 여러 OS를 실행하는 데 필수적인 기능만을 제공한다.
    - 즉, 가상화는 소비자에게 컴퓨터 플랫폼의 물리적 속성을 숨기는 반면, 에뮬레이션은 그렇지 않다.
- 가사화와의 주된 차이점은 프로그램 사용 방식에 있다.
    - 소프트웨어를 눈에 띄지 않게 하려는 경우 가상화를 사용하여 게스트 코드가 CPU에서 기본적으로 실행될 수 있는 반면, 에뮬레이터는 게스트 코드를 직접 실행하여 여러 가지 다른 작업을 위해 CPU를 확보한다.
    
    | 비고 | 에뮬레이션 | 가상화 |
    | --- | --- | --- |
    | 작업 | 전체 하드웨어를 모방하여 한 플랫폼의 소프트웨어를 다른 플랫폼에서 실행 가능 
    
    소프트웨어와 호스트 시스템 간의 변환기 역할을 수행 | 물리적 하드웨어 리소스를 여러 가상 환경으로 분할하고 각각은 별도의 시스템처럼 작동 |
    | 성능 | 외부 코드를 번역하려면 추가 처리가 필요하므로 속도가 느려질 수 있음 | 서버 사용 최적화, 단일 시스템의 다양한 OS 테스트 또는 확장성과 리소스 할당이 중요한 클라우드 컴퓨팅에 적합 |
    | 사용 사례 | 완전히 다른 하드웨어용 소프트웨어나 최신 시스템의 레거시 응용 프로그램을 실행하는 데 적합 | 클라우드 컴퓨팅에 적합 |
    | 리소스 요구 사항 | 번역 프로세스로 인해 리소스를 더 많이 사용하는 경향 있음 | 오버헤드 없이 기존 하드웨어를 활용하므로 더 효율적 |
    | 하드웨어 상호작용 | 하드웨어와 상호 작용을 위해 별도의 소프트웨어 계층(에뮬레이터)이 필요 | 여러 OS가 동일한 물리적 하드웨어를 공유할 수 있도록 하는 소프트웨어 계층인 하이퍼바이저를 사용하는 경우가 많음 |

# 주요 유형

1. 터미널 에뮬레이터
    - 기존 컴퓨터 터미널의 기능을 시뮬레이션하는 소프트웨어
    - 주로 미니 컴퓨터나 메인프레임과 같은 다른 컴퓨터와 연결하는 데 사용
    - 호스트 컴퓨터가 명령줄이나 그래픽 인터페이스를 통해 원격 시스템을 포함한 다른 컴퓨터에 연결할 수 있다.
    - Telnet, SSH 등의 프로토콜을 활용하여 통신이 가능하다.
    - 호스트 컴퓨터는 원격 컴퓨터에서 앱을 사용하거나 실행하고, 둘 사이에서 파일을 교환할 수 있다.
    - 이 때 두 장치의 OS가 동일할 필요가 없다.
2. 프린터 에뮬레이터
    - 다양한 프린터 명령 언어를 제공하는 프린터 내 응용 프로그램
    - 관리 효율성과 보안도 제공한다.
    - 여러 에뮬레이션을 프린터로 전송할 수 있으므로 적절한 명령 언어를 선택할 수 있다.
3. 게임 콘솔 에뮬레이터
    - 컴퓨터가 비디오 게임 콘솔의 하드웨어를 시뮬레이션하고 에뮬레이션 플랫폼에서 타이틀을 실행할 수 있다.
    - 대부분의 경우 에뮬레이터에는 실제 하드웨어의 경계를 초월하는 추가 기능이 포함된다. (치트 코드 등)
    - 일반적으로 ROM 파일 또는 ISO 이미지를 통해 게임의 코드와 데이터를 받는다.
4. 전체 시스템 에뮬레이터
    - CPU 칩셋, 기본 입출력 시스템(BIOS), 장치 및 인터럽트를 포함한 모든 것을 에뮬레이션한다.
    - COREMU는 전체 시스템 환경 통합의 복잡성을 분리하는 오픈 소스 동시 에뮬레이션 플랫폼이다.
    - 호스트에서 시스템 종속성을 정확하게 제거해야 하기에 구축하기 어렵다.
5. CPU 에뮬레이터
    - 물리적 CPU를 에뮬레이트하는 소프트웨어 애플리케이션.
    - 인터프리터는 CPU 에뮬레이터의 가장 간단한 변형 중 하나.
    - 감지된 각 기계어 명령어에 대해 소스 명령어와 의미상 비교 가능한 작업이 호스트 CPU에서 실행된다.
    - 디버깅, 프로파일링, 맬웨어 분석 등의 작업에 활용된다.
6. 기능적 에뮬레이터
    - 컴퓨터 프로그램을 사용하여 이진 기계 코드가 아닌 기호 어셈블리 언어나 컴파일러 코드로 작성된 다른 컴퓨터 프로그램의 실행을 모방하는 방식
    - 바이너리 코드를 생성하지 않아도 프로그래머는 기능 시뮬레이터를 사용하여 프로그래밍 오류를 찾기 위해 특정 소스 코드 비트를 실행하고 추적할 수 있다.
7. 서버 에뮬레이터
    - 핵심 프로세스가 다르더라도 인증된 인터넷 서버의 동작을 모방하는 인증되지 않은 온프레미스 서버.
    - 항상 에뮬레이션 기술의 합법적인 사용은 아니다.
8. 네트워크 에뮬레이터
    - PC 또는 가상 머신에서 실행되는 소프트웨어는 네트워크 에뮬레이션을 수행한다.
    - 링크 에뮬레이션을 위해 별도의 에뮬레이션 장치가 활용되는 경우도 있다.
9. 모바일 에뮬레이터
    - 데스크톱 컴퓨터에서 또는 클라우드 기반 테스트 플랫폼의 구성 요소로 장치의 하드웨어와 소프트웨어를 시뮬레이션한다.
    - 기계 수준 어셈블리 언어 기반 모바일 애플리케이션을 포괄적으로 다시 구현한 것이다.

# 응용

1. 시스템 간 마이그레이션
    - 마이그레이션의 첫 번째 단계로 에뮬레이터를 사용함으로써 시스템의 한 범주에서 다른 범주로 소프트웨어를 실행할 수 있다
2. 현재 시스템 강화
    - 에뮬레이터는 특히 임베디드 분야에서 하드웨어보다 훨씬 더 많은 디버깅 가능성을 제공할 수 있다.
    - MIMIC과 괕은 초기 미니 컴퓨터에 사용되었다
3. 과거의 시스템 보존
    - 에뮬레이터를 사용하여 구식 시스템의 소프트웨어를 최신 하드웨어에서 실행할 수 있다.
4. 미래 시스템을 중심으로 혁신
    - 에뮬레이터를 사용하여 실제 하드웨어가 출시되기 전, 개념적 기계를 구축하고 소프트웨어 디버깅이 가능하다.